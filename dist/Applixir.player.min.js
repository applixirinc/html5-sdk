var Applixir=Applixir||{};Applixir.player=function(e){function __webpack_require__(n){if(i[n])return i[n].exports;var t=i[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}var i={};return __webpack_require__.m=e,__webpack_require__.c=i,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,i,n){__webpack_require__.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(i,"a",i),i},__webpack_require__.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=6)}([function(e,i,n){"use strict";var t={bubbles:!0,cancelable:!1};window.Applixir.$handler=window.addEventListener("message",function(e){if("get"!==e.data){var i=(e.data.substr(0,6),""),n="",r="";try{i=JSON.parse(e.data.substr(6)),n=i.name+"."+i.type,r=i.eventName}catch(e){window.Applixir.$service.sendMessage("ApplixirEventVideoNotFound",{name:"msg",type:"handler"})}switch(n){case"msg.handler":window.dispatchEvent(new Event(r,t));break;case"Controller.connect":window.Applixir.playerWindow=e.source,window.Applixir.playerWindow.postMessage("alx://"+JSON.stringify({name:"Player",type:"loaded"}),"*");break;case"Player.loaded":window.Applixir.parentWindow=e.source;break;case"adsManager.complete":window.Applixir.$service.sendMessage("ApplixirEventVideoComplete",{name:"msg",type:"handler"}),window.Applixir.$close.hide(),window.Applixir.$progress.clear(),window.Applixir.parentWindow.Applixir.$stage.hide();break;case"adsManager.remainingTime":window.Applixir.$service.UiUpdate(i.data);break;case"adsManager.error":window.Applixir.$service.sendMessage("ApplixirEventVideoNotFound",{name:"msg",type:"handler"});break;case"adsManager.userClose":window.Applixir.playerWindow.Applixir.adUnit.stopAd(),window.Applixir.$close.hide(),window.Applixir.$progress.clear(),window.Applixir.parentWindow.Applixir.$stage.hide()}}});var r=function(){};r.prototype.sendMessage=function(e,i){window.dispatchEvent(new Event(e,t)),window.parent.postMessage("alx://"+JSON.stringify({name:i.name,type:i.type,eventName:e}),"*")},r.prototype.showAd=function(){try{window.Applixir.playerWindow.Applixir.adUnit.startAd(function(e,i){console.log("startAd"),console.log(e),console.log(i),window.Applixir.$stage.show()})}catch(e){window.Applixir.$service.sendMessage("ApplixirEventVideoNotFound",{name:"msg",type:"handler"})}},r.prototype.UiUpdate=function(e){window.Applixir.$progress.stat.duration=e.duration,window.Applixir.$progress.stat.remainingTime=e.remainingTime,window.Applixir.$progress.stat.currentTime=e.currentTime},e.exports=r},function(e,i,n){"use strict";function RequestController(e){this.zoneId=e,this.adUnit=null,this.preLoadVast(e)}var t=document.getElementById("myContent");window.flashVPaid=new VPAIDFLASHClient(t,flashVPAIDWrapperLoaded),window.Applixir.duration=0,window.Applixir.adType=null,window.Applixir.VAST={},RequestController.prototype.preLoadVast=function(e){var i=this.loadAdUnit.bind(this),n="https://ssd.appprizes.com/foobar/foobar/foobar/foobar/fc.php?script=apVideo:vast2&foo="+e;DMVAST.client.get(n,{wrapperLimit:3},function(e,n){window.Applixir.duration=e.ads[0].creatives[0].duration,window.Applixir.adType=e.ads[0].creatives[0].type,window.Applixir.VAST=e,window.flashVPaid.loadAdUnit(e.ads[0].creatives[0].mediaFiles[0].fileURL,i),window.Applixir.$service.sendMessage("ApplixirVastLoaded",{name:"msg",type:"handler"})})},RequestController.prototype.loadAdUnit=function(e,i){var n=this;if(console.log("ad-unit-loaded"),null===e){this.adUnit=i,window.Applixir.adUnit=i,this.adUnit.on("AdLoaded",function(e,i){n.adsReady=!0}),this.adUnit.on("AdStarted",function(e,i){console.log("event:AdStarted",e,i),n.checkAdProperties()}),this.adUnit.on("AdVideoStart",function(e,i){window.Applixir.$service.sendMessage("ApplixirEventVideoStart",{name:"msg",type:"handler"}),window.Applixir.$close.show(),window.Applixir.$progress.start(!0)}),this.adUnit.on("adLoadError",function(e,i){console.log("error"),console.log(e),console.log(i)});var n=this;this.adUnit.handshakeVersion("2.0",function(e,i){n.adUnit.initAd(0,0,"normal",-1,"","",function(e){window.Applixir.$service.sendMessage("ApplixirEventVideoReady",{name:"msg",type:"handler"}),console.log("initAd",e)})})}},RequestController.prototype.checkAdProperties=function(){this.adUnit.getAdIcons(function(e,i){console.log("getAdIcons",i)}),this.adUnit.setAdVolume(10,function(e,i){console.log("setAdVolume",i)}),this.adUnit.getAdVolume(function(e,i){console.log("getAdVolume",i)});var e=this,i=30,n=setInterval(function(){e.adUnit.getAdRemainingTime(function(t,r){parseInt(r)>i&&(i=parseInt(r)),window.Applixir.$progress.stat.duration=i,window.Applixir.$progress.stat.remainingTime=parseInt(r),window.Applixir.$progress.stat.currentTime=i-parseInt(r),r<=0&&(window.Applixir.$service.sendMessage("ApplixirEventVideoComplete",{name:"msg",type:"handler"}),window.Applixir.$close.hide(),window.Applixir.$progress.clear(),window.Applixir.parentWindow.Applixir.$stage.hide(),clearInterval(n),e.preLoadVast(e.zoneId))})},1e3)},e.exports=RequestController},function(e,i,n){"use strict";var t=function(){this.closeButton=document.getElementById("appprizes-close"),this.closeButton.addEventListener("click",function(){window.Applixir.$service.sendMessage("ApplixirEventUserClose",{name:"adsManager",type:"userClose"})})};t.prototype.hide=function(){this.closeButton.style.display="none"},t.prototype.show=function(){setTimeout(this._show.bind(this),5e3)},t.prototype._show=function(){this.closeButton.style.display="block"},e.exports=t},function(e,i,n){"use strict";var t=function(){this.elem=document.getElementById("myBar"),this.myProgress=document.getElementById("myProgress"),this.label=document.getElementById("label"),this.totalTime=30,this.remainTime=10,this.run=!1,this.stat={currentTime:0,duration:30,remainingTime:0,bannerDuration:10,bannerCurrentTime:0,bannerRemain:10}};t.prototype.clear=function(){this.run=!1,this.stat={currentTime:0,duration:30,remainingTime:0,bannerDuration:10,bannerCurrentTime:0,bannerRemain:10},this.elem.style.width=parseInt("0")+"%",this.label.innerHTML=parseInt("0")+"%",this.myProgress.style.display="none"},t.prototype.start=function(e){this.run||(this.run=!0,this.myProgress.style.display="block",this.label.innerHTML=parseInt("0")+"%",this.elem.style.width=parseInt("0")+"%",window.setInterval(this.increment.bind(this),1e3))},t.prototype.increment=function(){var e=(this.stat.duration-this.stat.remainingTime)/this.stat.duration*100;this.elem.style.width=parseInt(e)+"%",this.label.innerHTML=parseInt(e)+"%"},e.exports=t},,,function(e,i,n){"use strict";var t=n(1),r=n(0),o=n(3),s=n(2);window.Applixir.$service=new r;var a=function(e){var i=window.frameElement,n=window.location.href.split("/"),r=n[0]+"//"+n[2],a={iframeSrc:"",zoneId:0,userId:0,reportState:0,imaDebug:0,fallback:!1,autoplay:!1,video:1,banner:1,event:{bubbles:!0,cancelable:!1},host:r},p={zoneId:i.getAttribute("zoneId"),userId:i.getAttribute("userId")},d=window.Applixir.$config=Object.assign(a,p);window.Applixir.$close=new s,window.Applixir.$$player=window;var l=function(){window.Applixir.$controller=new t(d.zoneId,"adContainer","contentElement"),window.Applixir.$progress=new o(window.Applixir.$controller),window.Applixir.$service.sendMessage("loaded",{name:"Controller",type:"connect"})},c=function(){console.log("test  bootup"),l.bind(window),l()};c.bind(window),window.addEventListener("load",c)}(a)}]);